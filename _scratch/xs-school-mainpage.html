<link rel="stylesheet" href="https://cdn.staticdn.net/css?family=Source+Sans+Pro:200,300,400,600,700" crossorigin="anonymous">
<link rel="preload" href="https://csharpermantle.github.io/assets/img/6929a898263798cc12e14ee94ee62260116639c1.jpg" as="image">
<style>
.no-selection {
  user-select: none;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
}

.center {
  text-align: center;
  margin: 0 auto;
}

.under-construction-caption {
  font-family: 'Source Sans Pro';
  color: rgb(102, 102, 102);
  font-weight: normal;
}

/* Do the javascript's width adjusting jobs by CSS */
img {
  max-width: 740;
}

/* These are for grids */
.container-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  grid-gap: 10px;
  grid-auto-rows: minmax(100px, auto);
}

/* These are for flexbox modeling */
.container-flex {
  display: flex;
  flex-flow: row wrap;
}

/* These are for better image display */
figure.gallery-fig {
  border: thin #c0c0c0 solid;
  display: flex;
  flex-flow: column;
  padding: 5px;
  margin: auto;
}

figure.gallery-fig>figcaption {
  background-color: #222;
  color: #fff;
  font: italic smaller sans-serif;
  padding: 3px;
  text-align: center;
}

</style>
<!-- Cerina, I will certainly become your deskmate next semester. -->
<main role="main">
  <div class="container-grid">
  	<div>A</div>
  </div>
  <table id="table-main" border="0" cellpadding="0" cellspacing="0" width="100%" height="100%">
    <tbody>
      <!-- Under contruction logo. -->
      <tr>
        <td class="no-selection" bgcolor="#f1f1f1" style="vertical-align: top;">
          <br>
          <p class="center"></p>
          <figure class="center" id="figure-under-construction">
            <img src="https://csharpermantle.github.io/assets/ico/travis_barrier.svg" alt="barrier image" width="254" height="179" style="border-bottom: 1px solid #DEDCDB;">
          </figure>
          <p>
          </p>
          <h2 class="center under-construction-caption">
            <span style="font-size: 16pt;">Home page is under construction.</span>
            <br>
            <span style="font-size: 14pt;">You may surf around freely during this time.</span>
          </h2>
          <div class="center">
            <span style="color: rgb(165, 165, 165);">
              <pre id="pre-user-agent" style="font-size: 6pt;"></pre>
            </span>
          </div>
        </td>
      </tr>
      <!-- Game element. -->
      <tr>
        <td bgcolor="#f1f1f1">
          <br>
          <h2 id="h2-deprecated-banner" class="center" style="font-weight: bold; font-size: large;" hidden="">This feature is deprecated and removed.</h2>
          <br>
        </td>
      </tr>
      <!-- Main content starts here -->
      <tr>
        <td>
          <figure id="figure-banner" class="center">
            <img class="switchable" data-switch-cases="2" data-switch-current="0" data-switch-src-0="https://csharpermantle.github.io/assets/img/9dc7dbc37a49c76baf071d9dab470ac330c8f49d.jpg" data-switch-src-1="https://csharpermantle.github.io/assets/img/6929a898263798cc12e14ee94ee62260116639c1.jpg" alt="class flag">
          </figure>
        </td>
      </tr>
      <tr>
        <td>
          <fieldset style="border-color:#000000;">
            <legend style="font-size: 14pt">
              <strong>Star of the class</strong> 班级之星
            </legend>
            <!-- TODO: Add the content. -->
            <div class="container-flex">
              <figure class="gallery-fig">
                <img src="https://csharpermantle.github.io/assets/img/6b27ae209b0bf826f11bdbfeb7b3f68de4f6bb76.jpg" alt="Aristotle">
                <figcaption>The avatar of 翁嘉诚, aka Aristotle</figcaption>
              </figure>
              <figure class="gallery-fig">
                <img src="https://csharpermantle.github.io/assets/img/a37d30d89b78a16f7e71085b931ca3570ba25ba6.jpg" alt="Alan">
                <figcaption>梁扬荣, aka Alan or Spotty, holding a bottle of A Little Tea</figcaption>
              </figure>
            </div>
          </fieldset>
        </td>
      </tr>
    </tbody>
  </table>
</main>
<script>
"use strict";

const DIV_GAME_CONTENT_BASE64 = "PGlmcmFtZSBoZWlnaHQ9IjcyMCIgc3R5bGU9IndpZHRoOiAxMDAlOyIgc2Nyb2xsaW5nPSJubyIgdGl0bGU9IkEgYmV0dGVyIG1hdHRlciBvZiBncmF2aXR5IiBzcmM9Imh0dHBzOi8vY29kZXBlbi5pby9DU2hhcnBlck1hbnRsZS9lbWJlZC9NV3lMWnZ5P2hlaWdodD0yNjUmdGhlbWUtaWQ9ZGFyayZkZWZhdWx0LXRhYj1qcyxyZXN1bHQiIGZyYW1lYm9yZGVyPSJubyIgbG9hZGluZz0ibGF6eSIgYWxsb3d0cmFuc3BhcmVuY3k9InRydWUiIGFsbG93ZnVsbHNjcmVlbj0idHJ1ZSI+PC9pZnJhbWU+";
const POPUP_GAME_CONTENT = "Please be patient. The construction might take a lot of time. In order to entertain you, I added a game. Click again to switch off.";

const ELEMID_PRE_USER_AGENT = "pre-user-agent";
const ELEMID_FIGURE_UNDER_CONSTRUCTION = "figure-under-construction";
const ELEMID_DIV_GAME = "div-game";
const ELEMID_PRE_LEGAL_DISCLAIMER = "pre-legal-disclaimer";
const ELEMID_H2_DEPRECATED_BANNER = "h2-deprecated-banner";
const ELEMID_FIGURE_BANENR = "figure-banner";
let isDeprecatedBannerShowing = false;

function refreshSwitch(s) {
  let currentSwitch = s.dataset.switchCurrent;

  let switchAttrStr = "switchSrc-" + currentSwitch;
  let currentSwitchSrc = s.dataset[switchAttrStr];

  s.setAttribute("src", currentSwitchSrc);
}

function switchNext(s) {
  let currentSwitch = parseInt(s.dataset.switchCurrent, 10);
  let switchCases = parseInt(s.dataset.switchCases, 10);

  currentSwitch += 1;
  if (currentSwitch >= switchCases) {
    currentSwitch = 0;
  }

  s.dataset.switchCurrent = currentSwitch;
}

function initializeSwitch() {
  let switchables = document.getElementsByClassName("switchable");
  for (let i = 0; i < switchables.length; i += 1) {
    let switchable = switchables[i];
    refreshSwitch(switchable);
    switchable.addEventListener("click", () => {
      switchNext(switchable);
      refreshSwitch(switchable);
    });
  }
}
initializeSwitch();

(function() {
  document.getElementById(ELEMID_PRE_USER_AGENT).innerText = navigator.userAgent;
  document.getElementById(ELEMID_FIGURE_UNDER_CONSTRUCTION).addEventListener("click", () => {
    let deprecatedBannerElem = document.getElementById(ELEMID_H2_DEPRECATED_BANNER);
    if (isDeprecatedBannerShowing) {
      deprecatedBannerElem.setAttribute("hidden", "");
      isDeprecatedBannerShowing = false;
    } else {
      deprecatedBannerElem.removeAttribute("hidden");
      isDeprecatedBannerShowing = true;
    }
  });
})();

</script>
